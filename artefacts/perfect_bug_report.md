# üêû –ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ iBank

* **–ù–æ–º–µ—Ä**: `1`
* **–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É
* **–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** `1 —è–Ω–≤–∞—Ä—è 2022, –≤—Ç–æ—Ä–Ω–∏–∫ –≤ 10:00`
* **–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** `üî¥ –±–ª–æ–∫–∏—Ä—É—é—â–∏–π`
* **–¢–∏–ø:** `–û—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ`
* **–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** `iBank 1.0`

# –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–∫—Ä—É–∂–µ–Ω–∏–µ](#1.-–æ–∫—Ä—É–∂–µ–Ω–∏–µ)
2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
3. –®–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
4. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
5. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
6. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
   1. Console –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   2. Cookie –±—Ä–∞—É–∑–µ—Ä–∞
   3. Log –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
   4. Log —Å–µ—Ä–≤–µ—Ä–∞ 
   5. –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
7. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã
8. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

# 1. –û–∫—Ä—É–∂–µ–Ω–∏–µ

* **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** MacBook M1 Pro (14-inch, 2021) / 32 GB RAM
* **–û–°:** macOS Monterey version: 12.0.1
* **–≠–∫—Ä–∞–Ω:** Built-in Liquid Retina XDR Display 3024x1964
* **–ë—Ä–∞—É–∑–µ—Ä:** Google Chrome 100.0.4896.88 (Official Build) (arm64)
* [**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏:**](https://whatismyipaddress.com/) `90.187.49.33`, 100MB, Vodafone Germany

# 2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

1. –û—Ç–∫—Ä—ã—Ç—å –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ iBank https://qa.epic1h.com/?v=1.1
2. –°–±—Ä–æ—Å–∏—Ç—å Cookie –∏ –∫—ç—à –≤ –ë—Ä–∞—É–∑–µ—Ä–µ.

# 3. –®–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

‚ñ∂Ô∏è [–ó–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞](https://www.awesomescreenshot.com/video/8687146?key=2d537ed92ecaa1eb53c4650e6c28e58a)

1. –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/` iBank
2. –ù–∞ —Ñ–æ—Ä–º–µ `–í—Ö–æ–¥–∞` –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è:
   1. –õ–æ–≥–∏–Ω: `marry`
   2. –ü–∞—Ä–æ–ª—å: `qwerty`
3. –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É `–í–æ–π—Ç–∏`

# 4. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–º–æ–≥ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è, —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ: `–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞`, HTTP –∫–æ–¥ `500`

# 5. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑ `–¢–ó`

* **–†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –ö–ª–∏–µ–Ω—Ç –±–∞–Ω–∫–∞
* **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:** `–ö–ë01` ‚Äî –í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–º –±–∞–Ω–∫–∞

**–ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–Ø –∫–∞–∫ **–ö–ª–∏–µ–Ω—Ç –±–∞–Ω–∫–∞** —Ö–æ—á—É **–≤–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç**,
**—á—Ç–æ –±—ã** –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –±–∞–Ω–∫–∞:

1. **–Ø –º–æ–≥—É:** –∑–∞–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç https://qa.epic1h.com/
2. **–Ø –≤–∏–∂—É:** —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞ —Å –ø–æ–ª—è–º–∏ **–õ–æ–≥–∏–Ω** –∏ **–ü–∞—Ä–æ–ª—å**
3. **–Ø –º–æ–≥—É:** –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **–í–æ–π—Ç–∏**
4. **–Ø –≤–∏–∂—É:** –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –±–∞–Ω–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**

* –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–Ω–∏–∫–∞–ª–µ–Ω
* –ø–∞—Ä–æ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ üî•

# 6. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

## 6.1. Console –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```text
—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≥—Ä—É–∂–µ–Ω
–∑–∞–ø—Ä–æ—Å –Ω–∞ –±–µ–∫–µ–Ω–¥ GET /api/users/summary
–æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: {count: 3}
Uncaught TypeError: final is not a function at XMLHttpRequest.request.onreadystatechange
```

### –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É **–í–æ–π—Ç–∏**
```text
–∑–∞–ø—Ä–æ—Å –Ω–∞ –±–µ–∫–µ–Ω–¥ POST /api/login {username: 'marry', password: 'qwerty'}
POST https://qa.epic1h.com/api/login 500 (Internal Server Error)
```

## 6.2. Cookie –±—Ä–∞—É–∑–µ—Ä–∞

### –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
| **name** | **value**           |
|----------|---------------------|
| rnd      | 0.22187308399860428 |

### –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É **–í–æ–π—Ç–∏**

–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## 6.3. Log –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

### –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```text
GET https://qa.ecpic1h.com/api/users/summary
200 ‚Üì 
{"count": 5}
```

### –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É **–í–æ–π—Ç–∏**
```text
POST /api/login
{"login": "marry", "password": "qwerty"}
500 ‚Üì
–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
```
## 6.4. Log —Å–µ—Ä–≤–µ—Ä–∞

```text
2022-05-01T12:18:46.792Z connected to database
2022-05-01T12:18:46.791Z server has been started
...
2022-05-01T12:18:49.049Z checking password qwerty === qwerty
2022-05-01T12:18:49.049Z finding username marry
2022-05-01T12:18:49.050Z TypeError: Cannot read property 'toUpperCase' of null
```

## 6.5. –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ù–∞—á–∞–ª—å–Ω–æ–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ª–æ–≥–∏–Ω–æ–º `marry` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

`SELECT id, username, password, firstName FROM users WHERE username = 'marry'`

| **id** | **username** | **password** | **firstName** |
|--------|--------------|--------------|---------------|
| 3      | marry        | qwerty       | NULL          |

‚ö†Ô∏è –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `null`, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó **–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.

–í–æ–∑–º–æ–∂–Ω–æ `null` –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É.

### –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–æ–≤

–°–æ–∑–¥–∞–Ω–∞ —Å–µ—Å—Å–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `marry`

`SELECT * FROM sessions WHERE user = 3`

| **id**    | **user** | **active** |
|-----------|----------|------------|
| eeSJFLKxt | 3        | 1          |

# 7. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `marry` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `null`

# 8. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ó–∞–ø–æ–ª–Ω–µ–Ω–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.

* **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** –ë—Ä–µ—Å–ª–∞–≤—Å–∫–∏–π –ê.–í.
* **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** `1 —è–Ω–≤–∞—Ä—è 2022, –≤—Ç–æ—Ä–Ω–∏–∫ –≤ 11:00`
* **–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–∞—Ç—á –∏–ª–∏ –∫–æ–º–º–∏—Ç:** https://gitlab.com/epic1h/qa/sandbox/-/merge_requests/1/diffs
* **–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ª–∏–∑:** https://gitlab.com/epic1h/qa/sandbox/-/tags/v1.2

## –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã

–û—à–∏–±–∫–∞ –≤ —á–∞—Å—Ç–∏ –∫–æ–¥–∞ —Ñ–∞–π–ª–∞ [server.js](https://gitlab.com/epic1h/qa/sandbox/-/blob/main/ibank/server.js#L75)

```javascript
user.firstName.toUpperCase()
```

–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ `null.toUpperCase()`
